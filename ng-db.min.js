!function(e){function n(t){if(r[t])return r[t].exports;var o=r[t]={exports:{},id:t,loaded:!1};return e[t].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var r={};return n.m=e,n.c=r,n.p="",n(0)}([function(e,n,r){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n.default=e,n}var i=r(1),u=o(i),a=r(2),c=t(a),d=r(3),l=t(d),f=r(4),s=t(f);angular.module("ngDb",[]).constant("NG_DB_VERSION","0.0.1").service("$ngDbUtils",function(){return u}).service("$ngDbEvents",function(){return c.default}).service("$iDb",(0,l.default)(angular)).service("$iModel",(0,s.default)(angular))},function(e,n){"use strict";function r(e,n){return"function"==typeof e||null==e||void 0==e}function t(e){if(!r(e)){var n=new Error("Invalid callback");throw n.name="InvalidCallback",n}}function o(e,n){"string"==typeof n&&(n=[n]);for(var r in n)if(("undefined"==typeof e?"undefined":u(e))!=n[r]){var t=new Error("Invalid value: "+e+" must be "+n[r]);throw t.name="InvalidValue",t}}function i(e,n){e=Array.prototype.slice.call(e),"string"==typeof n&&(n=[n]);for(var r in e)if(n[r]){if("string"==typeof n[r]||"object"==u(n[r])){o(e[r],n[r]);continue}if("funcion"==typeof n[r]){n[r](e[r]);continue}var t=new Error("Invalid validator to: "+values[r]+" must be "+n[r]);throw t.name="InvalidValidator",t}}Object.defineProperty(n,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.isCallback=r,n.mustBeCallback=t,n.mustBe=o,n.validate=i},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={DB:{OPEN:"db.opened",OPEN_SUCCESS:"db.opened.success",OPEN_ERROR:"db.open.error",ERROR:"cb.error",UPGRATENEEDED:"cb.upgradeneeded"}}},function(e,n){"use strict";function r(e){return["$q","$iModel","$ngDbUtils","$ngDbEvents","$log",function(n,r,t,o,i){"ngInject";var u=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;window.IDBTransaction||window.webkitIDBTransaction||window.msIDBTransaction,window.IDBKeyRange||window.webkitIDBKeyRange||window.msIDBKeyRange;return u?function(u,a){var c=this;t.validate(arguments,["string","number"]);var d={},l=null,f=null;c.$models={},c.$bind=function(e,n){t.validate(arguments,["string","function"]),d[e]||(d[e]=[]),d[e].push(n)},c.$unbind=function(e,n){if(t.validate(arguments,["string","function"]),d[e]){var r=d[e].indexOf(n);r!=-1&&d[e].splice(r,1)}},c.$trigger=function(e,n){t.validate(arguments,["string","object"]),i.log(u+".v"+(a||1)+": "+e);for(var r in d[e])d[e][r].apply(c,n)},c.$open=function(){if(l)return l.promise;l=n.defer();var e=window.indexedDB.open(u,a);return e.onerror=function(n){c.$trigger(o.DB.OPEN_ERROR,[n,e.errorCode]),l.reject(e.errorCode)},e.onsuccess=function(n){f=e,f.onerror=function(e){i.error("Database error: "+e.target.errorCode),c.$trigger(o.DB.ERROR,[e])},c.$trigger(o.DB.OPEN_SUCCESS,[n,e]),l.resolve(e)},e.onupgradeneeded=function(n){c.$trigger(o.DB.UPGRATENEEDED,[n,e])},l.promise},c.$model=function(e,n){var t=c.$models[e];return t||(t=r(c,e)),c.$models[e]=t,t},c.$createStore=function(e,n){c.onUpgrateNeeded(function(r,t){var o=t.result;o.createObjectStore(e,n)})},c.$createIndex=function(e,n,r,t){c.onUpgrateNeeded(function(o,i){var u=(i.result,i.transaction.objectStore(e));u.createIndex(n,r,t)})},e.forEach({onOpenSuccess:o.DB.OPEN_SUCCESS,onOpenError:o.DB.OPEN_ERROR,onUpgrateNeeded:o.DB.UPGRATENEEDED,onError:o.DB.ERROR},function(e,n){c[n]=function(n){return c.$bind(e,n),c}})}:void window.alert("Su navegador no soporta una versión estable de indexedDB. Tal y como las características no serán validas")}]}Object.defineProperty(n,"__esModule",{value:!0}),n.default=r},function(e,n){"use strict";function r(e){return function(){"ngInject";return function(e,n){function r(){this.$constructor.apply(this,arguments)}var t={keyPath:"id",autoIncrement:!0};return r.prototype.$constructor=function(){},r.$id=function(e){return t=e,r},r.$create=function(){return e.$createStore(n,t),r},r.$index=function(t,o,i){return e.$createIndex(n,t,o,i),r},r.$build=function(e){e(r)},r}}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=r}]);